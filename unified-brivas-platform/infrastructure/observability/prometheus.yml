# Prometheus Configuration
# Unified Brivas Platform Metrics

global:
  scrape_interval: 15s
  evaluation_interval: 15s

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  - job_name: 'api-gateway'
    static_configs:
      - targets: ['api-gateway:8080']
    metrics_path: /metrics

  - job_name: 'voice-switch'
    static_configs:
      - targets: ['voice-switch:8095']
    metrics_path: /metrics

  - job_name: 'temporal-worker'
    static_configs:
      - targets: ['temporal-worker:8096']
    metrics_path: /metrics

  - job_name: 'smsc'
    static_configs:
      - targets: ['sms-service:8081']
    metrics_path: /metrics

  - job_name: 'ussd-gateway'
    static_configs:
      - targets: ['ussd-gateway:8080']
    metrics_path: /metrics

  - job_name: 'unified-messaging'
    static_configs:
      - targets: ['unified-messaging:8093']
    metrics_path: /metrics

  - job_name: 'billing'
    static_configs:
      - targets: ['billing:8084']
    metrics_path: /metrics

  - job_name: 'questdb'
    static_configs:
      - targets: ['questdb:9003']

  - job_name: 'nats'
    static_configs:
      - targets: ['nats:8222']
    metrics_path: /metrics

  - job_name: 'consul'
    static_configs:
      - targets: ['consul:8500']
    metrics_path: /v1/agent/metrics
    params:
      format: ['prometheus']

  - job_name: 'otel-collector'
    static_configs:
      - targets: ['otel-collector:8889']
